## 문제
Java 간단하게 써볼 수 있는 방법 찾다가 도서관에서 비교적 최근(2017.2월 출간)에 나온 <R과 자바로 크롤링하기> 책을 발견하여 살펴봄

R도 배울 예정이어서, java와 함께 겸사겸사 써보고자 함

## 같이 본 자료
[(도서) R과 자바로 크롤링하자](http://www.aladin.co.kr/shop/wproduct.aspx?ItemId=103317539)

## 내용

- 비정형 데이터
  > p.14
  > #
  > 비정형 데이터란 글자 그대로 정형화되지 않은 데이터로서, 구체적으로 미리 정의된 데이터 모델을 가지고 있지 않은 데이터를 말한다. 대표적인 비정형 데이터의 예를 들어보면, 아주 많은 양의 데이터를 가지고 있으면서 구조와 형태가 다르고 정형화되지 않은 문서, 영상, 음성 등을 들 수 있다. 문서의 경우만 살펴봐도 텍스트가 대부분이나 그 속에는 다른 그림이나 표 등이 들어 있어서 구분하기 힘들게 하는 불규칙성이 있고 의미를 파악하기 애매해서 기존의 일반적인 분석 프로그램을 적용하기가 어렵다.
  >
  > (중략) 비정형 데이터의 예로는 책, 저널, 문서, 메타데이터, 건강 기록, 오디오, 비디오, 아날로그 데이터, 이미지, 파일 뿐만 아니라 이메일 메시지나 웹페이지, 워드 프로세서 문서 등의 내용에 해당되는 비정형 텍스트까지도 들 수 있다.
  > 그뿐 아니라 약어, 속어, 신조어 등이 포함된 채팅, 이메일, SMS(Short Message Service) 용어와 같은 비표준 텍스트까지도 포함시킬 수 있다. 이와 같이 비정형 데이터의 유형을 크게 텍스트, 이미지, 음성과 영상, 로그 파일로 구분할 수 있다.
  >
  > 비정형 데이터는 불규칙 정도에 따라 반정형 데이터로 구분하기도 한다. 반정형 데이터는 관계형 데이터베이스나 다른 형태의 데이터 테이블로 조직된 데이터 모델의 정형적 구조를 따르지 않지만, 어의적 요소를 분리시키고 데이터 내의 레코드와 필드의 계층 구조가 있게 하는 태그나 다른 마커를 포함하고 있는 정형 데이터이다. 따라서 스스로 자신의 구조를 기술하고 있는 것으로 알려져 있다. 반정형 데이터 속에는 같은 클래스에 속하는 속성들은 순서에 상관없이 서로 묶을 수 있고 다른 속성을 포함시킬 수도 있다.
  > 반정형 데이터는 계속적으로 발생되고 있다. 그것은 인터넷의 확산으로 전반적인 텍스트 문서와 데이터베이스가 더 이상 고정된 특정 데이터 형식만을 고집하고 있지 않고 오히려 정보를 교환하기 위한 새로운 형태의 매체가 필요하기 때문이다. 비교적 최근에 등장한 객체지향 데이터베이스에서의 데이터는 반정형 데이터가 많다. 그리고 마크업 언어, 이메일, EDI(Electronic Data Intercange) 등의 데이터 형태는 모두 반정형 데이터 형식이다.
  >
  > 데이터 구조와 데이터를 스스로 기술하는 수단을 가진 비교적 최근에 나온 마크업 언어로는 XML(eXtensible Markup Language)이 있다. XML은 웹상에서 공유될 어떤 종류의 데이터를 정의하는 방법에 관한 일련의 구조화된 규칙이다. 이 규칙은 XML 스키마(Schema)로 정의하고 데이터는 스키마의 규칙에 따라 표현할 수 있으므로 데이터베이스에 들어있는 데이터까지 표현하는 것이 가능하다. XML은 SOAP(Simple Object Access Protocol) 원리를 유용하도록 개발하는 웹서비스(Web Services)에 의해서 대중화되어 왔다.
  >
  > XML로 기술된 데이터 형식은 관계형 데이터베이스의 테이블과 행과 같은 기능적 수준에서 구조적 엄격함이 못 미치는 인상을 받게 하므로, 이전에는 비정형 형태로 보았지만, 실제로는 XML 스키마에 의해 강제하고 상업 또는 고객 프로그램 둘 다에 의해 처리되는 데이터베이스 스키마와 같은 엄격함을 가진 것으로 설계될 수 있다.
  >
  > 따라서 내재적으로 바나정형 데이터 형태로 보는 XML에 대한 관점은 그것으로 데이터 중심 어플리케이션을 폭넓게 사용하는 데 있어서 장애가 되어왔지만 실제로 XML은 아주 엄격한 요소 구조와 데이터 형식뿐 아니라 인간 중심 흐름과 계층구조를 가능하게 하는 '유연성 있는 구조'로 언급될 수도 있다.
- 비정형 데이터 분석과 마이닝
  > 비정형 데이터 속의 패턴을 발견하거나 비정형 데이터를 번역하기 위해 데이터 마이닝, 텍스트 분석, 비표준 텍스트 분석 등과 같은 기법에 의해 다양한 방법을 제공하게 된다. 텍스트를 정형화하기 위한 일반적인 기법으로는 메타데이터로 태그를 직접 달거나, 고도의 텍스트 마이닝 기반 정형화를 위해 태그를 텍스트 속의 단어와 스피치의 한 부분이 대응되게 붙이는 방법이 있다.
  >  
  > (중략) 주로 비정형 데이터를 일단 정련 과정을 통해 정형 데이터로 만들고 난 다음에 일반적인 데이터 마이닝 작업인 분류 군집화, 회귀 분석, 요약, 이상 감지 등에 적용하여 의미 있는 정보를 발굴해낸다.
  >
  > 비정형 데이터 마이닝 과정을 간단히 살펴보면 보통 탐색, 이해, 분석의 과정을 거친다. 탐색 과정에서는 질의, 집합연산, 재귀 및 팽창 등의 작업을 수행한다. 이해 과정에서는 통계, 분배, 특징 선택, 군집화, 분류 편집, 시각화 등의 작업을 수행한다. 그리고 분석 과정에서는 경향, 상관관계, 분류 등의 작업을 수행한다.
  >
  > 텍스트 마이닝은 일반적으로 입력 텍스트를 정형화한 다음, 정형화 데이터 내에서 패턴을 추출한 후 출력을 평가하고 번역하는 과정을 포함하고 있다. 여기서 정형화는 입력 텍스트를 파싱할 때 추출되는 언어적 특징은 추가시키고 그 이외의 것들은 제거하면서 데이터베이스와 같은 정형화된 구조 속에 삽입하는 것을 말한다. 그리고 고품질 정보는 보통 새롭고 적절하며 관심을 끄는 데이터들의 집합이라 할 수 있으며, 한마디로 어떤 목적과 관련하여 의미 있는 정보라고 말할 수 있다.

- 텍스트 마이닝 처리 과정
  > 지식발견이라는 측면에서 텍스트 마이닝의 목적은 비정형 데이터나 정형 데이터, 반정형 데이터를 처리하여 의사결정을 위해 필요한 고차원적이고 의미 있는 정보나 지식을 추출하는 것이다. 따라서 텍스트 마이닝 처리 과정의 입력으로는 처리 과정을 위해 텍스트 문서로부터 수집되거나 저장되거나 만들어진 비정형 데이터나 정형 데이터, 반정형 데이터가 해당된다. 그리고 텍스트 마이닝 처리 과정의 결과(Output)로는 의사결정을 위해 사용될 수 있는 텍스트의 패턴이나 관계와 같은 특별한 의미의 지식이 해당된다. 결국 거시적 측면에서 텍스트 마이닝 처리 과정은 입력, 처리, 출력이라는 정보 처리의 기본 처리 과정을 따른다고 할 수 있다.
  >
  > 입력과 출력을 제외하고 처리 과정에만 국한하여 미시적으로 살펴보면 텍스트 마이닝 처리 과정은 준비단계, 전처리 다나계, 지식 추출 단계를 밟는다.
  > 준비 단계는 입력되는 여러 가지 텍스트 문서의 데이터들을 문제 범위에 적절한 것으로 확립하는 것이다. 일부 텍스트 분석에서는 진보된 통계 방법을 적용하기도 하지만 대부분의 정보 검색이나 텍스트 식별을 말하며, 웹 상에서나 파일 시스템, 데이터베이스, 내용관리 시스템 등에서 문제 범위에 맞는 일련의 텍스트들을 수집하거나 식별하는 것이다. 이렇게 수집된 텍스트들은 텍스트 파일과 같은 컴퓨터 처리에 적합하게 통일된 형태로 저장된다.
  >
  > 전처리 단계는 준비 단계에서 문제 범위에 맞게 조직화된 텍스트들을 정형화된 표현 양식으로 만드는 것이다. 텍스트 문서에서 단어를 찾아 목록을 만들고, 단어 목록에서 전문 분야와 연결하여 의미를 갖는 용어를 식별하여 목록을 만든다. 그리고 이들 용어 목록과 텍스트 문서와의 관계를 인덱스로 연결하여 행렬 구조를 만들고 행 기준으로 볼  때 하나의 텍스트 문서가 용어 목록에 의해 어떤 의미가 있는가를 나타내고, 열 기준으로 볼 때 하나의 용어가 각 텍스트 문서에서 나타나는 빈도가 어느 정도인지를 나타내게 한다.
  >
  > 용어와 텍스트 문서의 행렬이 너무 크게 되면 처리하기 힘드므로 빈도가 지나치게 낮은 것과 전문가 입장에서 문제 영억에서 멀다고 생각되는 것을 제거하고 특이값 분해를 통해 행렬의 전반적인 의미 구조가 나타나도록 하여 다루기 쉬운 크기로 줄인다. 즉 전처리 단계의 목적은 준비 단계의 문제 범위에 조직화된 데이터를 의미 구조를 갖으면서도 다루기 쉬운 정형화된 데이터로 변환시키는 것이다.
  >
  > 지식 추출 단계는 문제 범위에 맞게 변환된 정형 데이터에서 의미 있는 패턴이나 관계와 같은 지식을 발견하는 것이다. 여기에는 분류, 클러스터링, 개념 및 개체 추출, 세분화된 분류 체계의 생산, 심리분석, 문서 요약, 개체 관계 모델링 등이 있다.

- 텍스트 마이닝의 기법
  > 텍스트 마이닝은 데이터 마이닝 방법과 정보 검색, 자연어 처리, 용어 및 정보추출과 같은 특징 추출, 문서 분류, 군집화, 연결 분석(Text link Analysis) 등의 기법들이 결합된다.
  >
  > 정보 검색(Information Retrieval)기법은 정보와 사회에서 업무 수행을 위해 필요한 다양한 정보를 수집, 분석, 가공, 축적하여 의사결정에 사용하는 기법을 말하며, 정보 검색의 대상이 되는 정보는 수치 정보, 사실 정보, 문서 정보, 서지 정보, 그림 정보, 음성 정보 등과 같은 다양한 형태를 가진다. 최근에는 전자 매체 발달로 본문 검색(Test retrieval), 화상(Image), 음성(Sound), 화확식의 검색 등으로 확대되고 있다.
  >
  > 자연어 처리(Natural Language Processing) 기법은 인간의 의사소통 언어를 처리하는 기법을 말한다. 자연어 처리는 크게 두 가지 작업으로 나눌 수 있다.
  >
  > 먼저 언어에 있어서의 어휘(Lexical), 구문(Syntactic), 의미(Semantic)에 관한 지식을 사용해서 문어를 처리하는 것이다. 두 번째는 앞서 언급한 내용과 더불어 음성에서 발생되는 애매모호함을 비롯한 음성학(Phonology)에 대한 지식이 있어야 하는 구어(Spoken Language)를 처리하느 ㄴ것이다. 이러한 자연어 처리는 자연어 이해(Natural Language Understanding), 자연어 생성(Natural Language Generation), 기계 번역(Machine Translation), 질의 응답 시스템(Question Answering System), 전산언어학(Computational Linguistics), 음성 인식(Speech Recognition), 음성 이해(Speech Understanding), 정보 검색(Information Retrieval), 문서 분류(Text Categorization), 텍스트 마이닝(Text Mining) 등의 여러 분야를 포함한다.
  >
  > 자연어 처리에서는 문어와 구어를 함께 이해하여 하나의 표현에서 다른 표현으로 변형시키는 것이 필요하다. 자연어 처리 시스템에는 Terry Winograd의 SHRDLU, ELIZA, GUS, MARGIE, TOPLE 등 여러 가지 자연어 처리 시스템이 있다.
  >
  > 특징 추출(Feature selection) 기법은 자연어 처리 기법을 이용하여 문서로부터 대표적인 용어나 지식을 추출하는 기법이다. 특징 추출 기법으로는 크게 용어 추출(Term Extraction)과 정보 추출(Information Selection)이 있다. 용어 추출 기법은 구문 패턴이나 통계적인 기법을 사용하여 문서에서 출현한 용어를 대상으로 빈도수나 연관 정도에 따라 대표 용어를 추출하는 기법으로 '형용사 + 명사 + 명사', '전치사 + 명사' 등과 같은 구문 패턴이나 연관 분석에 의해 추출한 후보 용어에 대해 통계적 방법으로 대표 용어를 추출하는 기법이다. 정보 추출 기법은 사저너에 정의된 본보기(Template)와 매핑되는 경우(Instance)를 추출하기 위한 기법이다. 텍스트 범주화(Text Categorization) 기법은 문서 군집화(Document Classification)라고도 불린다.
  >
  > 인터넷 발전과 전산 기술 발달로 문서의 양이 기하급수적으로 늘어남에 따라 다양한 정보 분류기법들이 제안되고 있다. 전자메일 분류시스템, 웹 문서 필터링 시스템 등이 문서 군집화의 대표적 분야이다. 텍스트 범주화는 통제 학습 과정으로 사전에 정해진 범주가 주어지고 주어진 범주로만 문서가 할당된다. 텍스트 범주화 기법은 규칙 기반(Rule Based), 기계 학습 기법(Machine Learning)이 대표적이다. 이 외에 분류 기법들로는 K-NN 방법, Nave Bayes, Neural Net, Support Vector Machine, PCA 등의 여러 분류 방법들이 제안되고 있다. 이 중 기계 학습 기법은 문서 분류 정확도를 향상시키는 데 기여하고 있다.
  >
  > 군집화(Clustering) 기법은 텍스트의 집단을 내용의 유사도에 따라서 여러 개의 소집단으로 분류하는 과정을 말한다. 또한 각 소집단에 대한 지속적인 세부적 분할의 경우 구성된 텍스트는 계층적 구조를 형성하게 되고 이러한 과정을 계층적 텍스트 군집화(Hierarchical Text Clustering)라 한다. 텍스트 군집화는 정보 검색 성능을 개선하여 검색 시간을 단축시키고 불필요한 문서 조회를 최소화시킨다.
  >
  > 연결 분석(Link Analysis)기법은 상호적 연관 관계를 시작적으로 표현함으로써 데이터의 숨겨진 패턴을 쉽고 다양하게 접근할 수 있도록 도와준다. 또한 연결 분석을 통한 자료탐색은 ㅔㄷ이터 이해를 통해 데이터의 그룹화가 가능하다.

- Java로 크롤링하기
  - 필요한 프로그램 설치
    - 이클립스, JDK 등등 설치 해놓은게 있어서 스킵
    - Jsoup 라이브러리 인스톨
      > p.77
      >
      > Jsoup는 기본적으로 HTML 형식의 string을 넘겨주면 자바에서 사용할 수 있는 DOM 객체로 만들어주는 라이브러리. 웹페이지를 파싱하기 위해서는 반드시 jsoup를 설치해야 한다. 파싱(Parsing)이란 다른 형식으로 저장된 데이터를 원하는 형식의 데이터로 변환하는 것을 의미한다.

      - https://jsoup.org/
        - Python 라이브러리는 BeautifulSoup인데 이름 비슷비슷하게 쓰는거 뭔가 귀엽다 ㅋㅋ
      - 네이버 뉴스 크롤링

- R로 크롤링하기
  - R, R Studio 설치
  - 다음 영화 평점 크롤링을 해봤는데 간단한 코드로 쉽게 크롤링 할 수 있는 듯. `<-` 이런 문법 쓰는데 특이하다. `->` 이런건 썼었는데!
  - 한글 깨진다.
    - 참고 글. [R에서 한글 깨짐 현상](http://hashcode.co.kr/questions/3037/r%EC%97%90%EC%84%9C-%ED%95%9C%EA%B8%80-%EA%B9%A8%EC%A7%90-%ED%98%84%EC%83%81)
      - `Sys.setlocale("LC_COLLATE", "ko_KR.UTF-8")`입력했으나 깨짐
